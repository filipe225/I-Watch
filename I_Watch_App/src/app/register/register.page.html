<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>
            Register
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>

    <ion-grid>
        <ion-row>

            <ion-col size="12" size-lg="6" offset-lg="3">
                <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
                    <ion-item>
                        <ion-label position="floating">Email</ion-label>
                        <ion-input type="email" formControlName="user_email"></ion-input>
                    </ion-item>                    
                    <div class="validation-errors">
                        <ng-container *ngFor="let validation of validationMessages.email">
                            <div class="error-message"
                                *ngIf="registrationForm.get('user_email').hasError(validation.type) && (registrationForm.get('user_email').dirty || registrationForm.get('user_email').touched)">
                                {{ validation.message }}
                            </div>
                        </ng-container>
                    </div>
                    <!-- <app-input-validation-errors
                        [displayError]="isFieldValid('user_email')"
                        [errorMessage]="validationMessages.email">
                    </app-input-validation-errors> -->


                    <ion-item>
                        <ion-label position="floating">Username</ion-label>
                        <ion-input type="text" formControlName="username"></ion-input>
                    </ion-item>
                    <div class="validation-errors">
                        <ng-container *ngFor="let validation of validationMessages.username">
                            <div class="error-message"
                                *ngIf="registrationForm.get('username').hasError(validation.type) && (registrationForm.get('username').dirty || registrationForm.get('username').touched)">
                                {{ validation.message }}
                            </div>
                        </ng-container>
                    </div>

                    <ion-item>
                        <ion-label position="floating">Password</ion-label>
                        <ion-input type="password" formControlName="password"></ion-input>
                    </ion-item>
                    <div class="validation-errors">
                        <ng-container *ngFor="let validation of validationMessages.password">
                            <div class="error-message"
                                *ngIf="registrationForm.get('password').hasError(validation.type) && (registrationForm.get('password').dirty || registrationForm.get('password').touched)">
                                {{ validation.message }}
                            </div>
                        </ng-container>
                    </div>

                    <ion-item>
                        <ion-label position="floating">Repeat Password</ion-label>
                        <ion-input type="password" formControlName="repeat_password">
                        </ion-input>
                    </ion-item>
                    <div class="validation-errors">
                        <ng-container *ngFor="let validation of validationMessages.repeat_password">
                            <div class="error-message"
                                *ngIf="registrationForm.get('repeat_password').hasError(validation.type) && (registrationForm.get('repeat_password').dirty || registrationForm.get('repeat_password').touched)">
                                {{ validation.message }}
                            </div>
                        </ng-container>
                    </div>

                    <ion-item>
                        <ion-label position="floating">First Name</ion-label>
                        <ion-input type="text" formControlName="first_name">
                        </ion-input>
                    </ion-item>
                    <div class="validation-errors">
                        <ng-container *ngFor="let validation of validationMessages.first_name">
                            <div class="error-message"
                                *ngIf="registrationForm.get('first_name').hasError(validation.type) && (registrationForm.get('first_name').dirty || registrationForm.get('first_name').touched)">
                                {{ validation.message }}
                            </div>
                        </ng-container>
                    </div>

                    <ion-item>
                        <ion-label position="floating">Last Name</ion-label>
                        <ion-input type="text" formControlName="last_name">
                        </ion-input>
                    </ion-item>
                    <div class="validation-errors">
                        <ng-container *ngFor="let validation of validationMessages.last_name">
                            <div class="error-message"
                                *ngIf="registrationForm.get('last_name').hasError(validation.type) && (registrationForm.get('last_name').dirty || registrationForm.get('last_name').touched)">
                                {{ validation.message }}
                            </div>
                        </ng-container>
                    </div>

                    <ion-item>
                        <ion-label>Terms of service</ion-label>
                    </ion-item>
                    <div>
                        <ion-button type="button" id="btn_cancel" (click)="cancel()">Cancel</ion-button>
                        <ion-button type="submit" id="btn_register">Register</ion-button>
                    </div>
                </form>
            </ion-col>

            <ion-col size="12" size-lg="6" offset-lg="3" margin>
                <ion-label>Already registered? <a href="/login"><b>Go to login</b></a></ion-label>
            </ion-col>

        </ion-row>
    </ion-grid>

</ion-content>